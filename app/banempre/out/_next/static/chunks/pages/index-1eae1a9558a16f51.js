(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[332],{2936:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return a(8723)}])},8723:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>c});var l=a(7876),o=a(7328),n=a.n(o),r=a(4587),s=a.n(r),i=a(4232),m=a(9099);function d(){let e=(0,m.useRouter)(),[t,a]=(0,i.useState)({cedula:"",nombre_apellido:"",rif:"",nombre_emprendimiento:"",telefono:"",estado:"",municipio:""}),[o,n]=(0,i.useState)(!1),[r,s]=(0,i.useState)(null),[d,c]=(0,i.useState)(!1),[b,p]=(0,i.useState)(""),[x,u]=(0,i.useState)(""),h=e=>{let{name:t,value:l}=e.target;a(e=>({...e,[t]:l})),"cedula"===t&&l.length>=6&&f(l)},f=async e=>{c(!0),p("");try{let t=await fetch("".concat("https://applottobueno.com","/emprendedores/get_elector_data/").concat(e));if(t.ok){let e=await t.json();s(e),a(t=>({...t,nombre_apellido:e.nombre_apellido||t.nombre_apellido,estado:e.estado||t.estado,municipio:e.municipio||t.municipio}))}else console.log("Elector no encontrado, pero se permitir\xe1 el registro manual"),s(null)}catch(e){console.error("Error al buscar elector:",e)}finally{c(!1)}},j=()=>(p(""),t.cedula.trim())?t.nombre_apellido.trim()?t.nombre_emprendimiento.trim()?!!t.telefono.trim()||(p("El n\xfamero telef\xf3nico es obligatorio"),!1):(p("El nombre del emprendimiento es obligatorio"),!1):(p("El nombre y apellido son obligatorios"),!1):(p("La c\xe9dula es obligatoria"),!1),w=async e=>{if(e.preventDefault(),j()){n(!0),p("");try{let e=await fetch("".concat("https://applottobueno.com","/emprendedores"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({cedula:t.cedula,nombre_apellido:t.nombre_apellido,rif:t.rif,nombre_emprendimiento:t.nombre_emprendimiento,telefono:t.telefono,estado:t.estado,municipio:t.municipio})});if(e.ok)u("\xa1Registro exitoso! Gracias por registrar tu emprendimiento."),a({cedula:"",nombre_apellido:"",rif:"",nombre_emprendimiento:"",telefono:"",estado:"",municipio:""}),setTimeout(()=>{window.location.href="https://applottobueno.com/dashboard"},3e3);else{let t=await e.json();p(t.detail||"Error al registrar el emprendimiento")}}catch(e){console.error("Error al enviar el formulario:",e),p("Error al procesar la solicitud. Intente nuevamente.")}finally{n(!1)}}};return(0,i.useEffect)(()=>{e.query.cedula&&(a(t=>({...t,cedula:e.query.cedula})),f(e.query.cedula))},[e.query]),(0,l.jsxs)("div",{className:"form-container",children:[(0,l.jsx)("h2",{className:"text-xl md:text-2xl font-bold mb-3 md:mb-4 text-white text-center",children:"REGISTRA TU EMPRENDIMIENTO"}),x&&(0,l.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative mb-4",children:x}),b&&(0,l.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-4",children:b}),(0,l.jsxs)("form",{onSubmit:w,className:"space-y-3 md:space-y-4",children:[(0,l.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,l.jsx)("label",{className:"block mb-1 text-white text-sm md:text-base",children:"C\xe9dula de Identidad:"}),(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("input",{type:"text",name:"cedula",value:t.cedula,onChange:h,className:"w-full p-2 rounded bg-white text-black text-sm md:text-base",required:!0}),d&&(0,l.jsx)("span",{className:"ml-2 text-white animate-spin",children:"âŸ³"})]}),r&&(0,l.jsx)("p",{className:"text-xs text-green-300 mt-1",children:"Informaci\xf3n encontrada en el registro electoral"})]}),(0,l.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,l.jsx)("label",{className:"block mb-1 text-white text-sm md:text-base",children:"Nombre y Apellido:"}),(0,l.jsx)("input",{type:"text",name:"nombre_apellido",value:t.nombre_apellido,onChange:h,className:"w-full p-2 rounded bg-white text-black text-sm md:text-base",required:!0})]}),(0,l.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,l.jsx)("label",{className:"block mb-1 text-white text-sm md:text-base",children:"RIF (Si posee):"}),(0,l.jsx)("input",{type:"text",name:"rif",value:t.rif,onChange:h,className:"w-full p-2 rounded bg-white text-black text-sm md:text-base"})]}),(0,l.jsxs)("div",{className:"mb-2 md:mb-3",children:[(0,l.jsx)("label",{className:"block mb-1 text-white text-sm md:text-base",children:"Nombre del Emprendimiento:"}),(0,l.jsx)("input",{type:"text",name:"nombre_emprendimiento",value:t.nombre_emprendimiento,onChange:h,className:"w-full p-2 rounded bg-white text-black text-sm md:text-base",required:!0})]}),(0,l.jsxs)("div",{className:"mb-3 md:mb-4",children:[(0,l.jsx)("label",{className:"block mb-1 text-white text-sm md:text-base",children:"N\xfamero Telef\xf3nico:"}),(0,l.jsx)("input",{type:"tel",name:"telefono",value:t.telefono,onChange:h,className:"w-full p-2 rounded bg-white text-black text-sm md:text-base",required:!0})]}),(0,l.jsx)("div",{className:"text-center",children:(0,l.jsx)("button",{type:"submit",disabled:o,className:"bg-blue-600 text-white font-medium py-2 px-6 md:px-8 rounded-full hover:bg-blue-700 transition-colors w-full disabled:opacity-50",children:o?"Procesando...":"REGISTRAR"})})]})]})}function c(){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(n(),{children:[(0,l.jsx)("title",{children:"Banempre - Banco de los Emprendedores"}),(0,l.jsx)("meta",{name:"description",content:"Banempre - Banco de los Emprendedores, registra tu emprendimiento"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,l.jsx)("main",{className:"min-h-screen bg-banempre",children:(0,l.jsxs)("div",{className:"container mx-auto px-4 py-4 md:py-6 flex flex-col min-h-screen",children:[(0,l.jsx)("div",{className:"flex justify-start mb-4 md:mb-10",children:(0,l.jsx)("a",{href:"https://applottobueno.com/dashboard",children:(0,l.jsx)(s(),{src:"/logo bamempre.png",alt:"Banempre - Banco de los Emprendedores",width:500,height:105,className:"w-64 md:w-auto",priority:!0})})}),(0,l.jsx)("div",{className:"flex-grow flex flex-col md:flex-row md:justify-end items-center md:items-start",children:(0,l.jsx)("div",{className:"w-full md:w-1/2 lg:w-5/12",children:(0,l.jsx)(d,{})})})]})})]})}},9099:(e,t,a)=>{e.exports=a(8253)}},e=>{var t=t=>e(e.s=t);e.O(0,[144,636,593,792],()=>t(2936)),_N_E=e.O()}]);